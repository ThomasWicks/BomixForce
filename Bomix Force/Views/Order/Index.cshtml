@using X.PagedList.Mvc.Core
@model X.PagedList.PagedList<Bomix_Force.ViewModels.OrderViewModel>

<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />

@{
    ViewData["Title"] = "Index";
}
<div id="OrderDetailsHere"></div>
<div class="clearfix mx-5">
    <h2 class="mt-3">Pedidos</h2>
    <div class="table-responsive mt-4">
        <table class="table table-striped">
            <thead class="thead-dark">

                <tr>

                    <th class="text-center">

                        NumeroPedido
                    </th>
                    <th class="text-center">
                        @Html.ActionLink("Emissão", "Index", new { filter = "Emissao" })
                    </th>
                    <th class="text-center">
                        @Html.ActionLink("Entrega", "Index", new { filter = "Entrega" })
                    </th>
                    <th class="text-center">
                        Status
                    </th>
                    <th class="text-center">
                        Detalhes
                    </th>
                </tr>
            </thead>
            <tbody>
                @if (Model?.Count() > 0)
                {
                    foreach (var item in Model)
                    {
                        <tr>
                            <th class="text-center">
                                @item.NumeroPedido
                            </th>
                            <th class="text-center">
                                @item.Emissao
                            </th>
                            <th class="text-center">
                                @item.Entrega
                            </th>
                            <th class="text-center">
                                @item.Status
                            </th>
                            <th class="text-center">
                                <button class="btn" data-toggle="ajax-modal" data-target="#detailsOrder" data-url="@Url.Action($"Details/{item.Id}")"><i class="fas fa-info-circle fa-2x blue"></i></button>
                            </th>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td>
                            <h6>Não há pedidos cadastrados.</h6>
                        </td>
                    </tr>
                }
                @Html.PagedListPager(Model, pageNumber => Url.Action("Index", new { pageNumber, filter= ViewBag.filter }))
            </tbody>
        </table>
    </div>


</div>

<style lang="scss" scoped>
    .badge {
        font-weight: 500;
        text-transform: uppercase;
        margin-right: 10px;
        margin-left: 10px;
        padding-left: 15px;
        padding-right: 15px;
        border-radius: 25px;
    }

    .blue {
        color: #007bff;
    }
</style>
